<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>TianXuan å¤©é€‰ Meme Coin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { margin:0; font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto; background:#0b0f1a; color:#fff; }
    header { padding:40px 20px; text-align:center; background:linear-gradient(135deg,#1f2933,#020617); }
    h1 { font-size:48px; margin:0; }
    h2 { margin-top:40px; }
    .container { max-width:1200px; margin:auto; padding:20px; }
    .card { background:#111827; border-radius:16px; padding:20px; margin-bottom:20px; box-shadow:0 0 20px rgba(0,0,0,0.3); }
    .row { display:flex; gap:20px; flex-wrap:wrap; }
    .col { flex:1; min-width:280px; }
    .btn { display:inline-block; padding:10px 16px; border-radius:10px; background:#2563eb; color:#fff; text-decoration:none; }
    footer { text-align:center; padding:30px; opacity:0.6; }
    code { color:#22c55e; word-break: break-all; }
    iframe { border:none; }
    /* åŒ¿åè¯„è®ºæ ·å¼ */
    .comment-form { display:flex; flex-direction:column; gap:10px; margin-top:10px; }
    .comment-row { display:flex; gap:10px; flex-wrap:wrap; }
    .comment-row input { flex:1; min-width:140px; }
    .comment-form input,
    .comment-form textarea {
      padding:8px 10px;
      border-radius:8px;
      border:1px solid #374151;
      background:#020617;
      color:#e5e7eb;
      font-family:inherit;
    }
    .comment-form textarea { min-height:80px; resize:vertical; }
    .comment-list { margin-top:16px; display:flex; flex-direction:column; gap:10px; max-height:260px; overflow-y:auto; }
    .comment-item { display:flex; gap:10px; padding:10px; border-radius:10px; background:#020617; }
    .comment-avatar { width:40px; height:40px; border-radius:50%; object-fit:cover; background:#111827; }
    .comment-meta { font-size:12px; opacity:0.7; }
    .comment-name { font-weight:600; margin-right:8px; }
    /* è£…ä¿®ä¸­é®ç½©æ ·å¼ */
    .maintenance-overlay {
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      background:radial-gradient(circle at top, #1e293b, #020617);
      color:#e5e7eb;
      z-index:999;
      text-align:center;
      padding:20px;
    }
    .lang-toggle {
      position:absolute;
      top:20px;
      right:20px;
      display:flex;
      gap:6px;
      background:rgba(15,23,42,0.85);
      border-radius:999px;
      padding:4px 8px;
      border:1px solid rgba(148,163,184,0.5);
      font-size:13px;
    }
    .lang-toggle button {
      border:none;
      background:transparent;
      color:#9ca3af;
      cursor:pointer;
      padding:4px 8px;
      border-radius:999px;
    }
    .lang-toggle button.active {
      background:#2563eb;
      color:#fff;
    }
    .maintenance-title {
      font-size:40px;
      letter-spacing:4px;
      margin-bottom:16px;
    }
    .maintenance-subtitle {
      font-size:18px;
      opacity:0.8;
      margin-bottom:32px;
    }
    .maintenance-badge {
      padding:6px 14px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.6);
      font-size:14px;
      margin-bottom:20px;
      text-transform:uppercase;
      letter-spacing:0.15em;
    }
    .maintenance-footer {
      font-size:13px;
      opacity:0.6;
      margin-top:24px;
    }
    .main-hidden {
      display:none;
    }
  </style>
</head>
<body>

<!-- è£…ä¿®ä¸­é¡µé¢ï¼ˆå½“å‰å¯¹å¤–å±•ç¤ºï¼‰ -->
<div class="maintenance-overlay">
  <div class="lang-toggle">
    <button id="btn-zh" class="active" onclick="setLang('zh')">ä¸­</button>
    <button id="btn-en" onclick="setLang('en')">EN</button>
  </div>
  <div class="maintenance-badge" id="maintBadge">SITE UNDER RENOVATION</div>
  <div class="maintenance-title" id="maintTitle">æ­£åœ¨è£…ä¿®ä¸­</div>
  <div class="maintenance-subtitle" id="maintSubtitle">TianXuan å®˜ç½‘æ­£åœ¨å‡çº§ä¸­ï¼Œæ•¬è¯·æœŸå¾…å…¨æ–°ç‰ˆæœ¬ä¸Šçº¿ã€‚</div>
  <div class="maintenance-footer" id="maintFooter">TianXuan Â· å¤©é€‰ Â· Meme Project</div>
</div>

<!-- æ­£å¼ç«™ç‚¹å†…å®¹ï¼ˆæš‚æ—¶éšè—ï¼‰ -->
<div id="main-app" class="main-hidden">
  <header>
    <h1>ğŸª™ TianXuan Â· å¤©é€‰</h1>
    <p>å…¬å¹³ Â· ç¤¾åŒºé©±åŠ¨ Â· Meme ç²¾ç¥</p>
  </header>

  <div class="container">

    <!-- åˆçº¦åœ°å€ -->
    <div class="card">
      <h2>ğŸ“„ åˆçº¦åœ°å€ (CA)</h2>
      <code id="ca">0x903f9799e09ae894f0f5879e47e925f34bdf7777</code>
      <button class="btn" onclick="copyCA()">å¤åˆ¶</button>
    </div>

    <!-- å¥–æ± ä½™é¢å±•ç¤ºåŒºåŸŸï¼ˆå…·ä½“ä½ç½®åç»­å¯æ ¹æ®éœ€æ±‚è°ƒæ•´ï¼‰ -->
    <div class="card" id="pool-card">
      <h2>ğŸ† å½“å‰å¥–æ± ä½™é¢</h2>
      <div id="poolBalance">æš‚æœªæ¥å…¥æ•°æ®</div>
    </div>

    <!-- å®æ—¶ä»·æ ¼ -->
    <div class="row">
      <div class="card col">
        <h2>ğŸ’° å®æ—¶ä»·æ ¼</h2>
        <div id="price">åŠ è½½ä¸­...</div>
        <div id="change"></div>
      </div>

    </div>

    <!-- é¡¹ç›®ä»‹ç» -->
    <div class="card">
      <h2>ğŸš€ é¡¹ç›®ä»‹ç»</h2>
      <p>
        TianXuanï¼ˆå¤©é€‰ï¼‰æ˜¯ä¸€ä¸ªç¤¾åŒºé©±åŠ¨çš„ Meme Tokenï¼Œç›®æ ‡æ˜¯æ„å»ºå¼ºå…±è¯†ã€é«˜ä¼ æ’­åŠ›çš„é“¾ä¸Šæ–‡åŒ–èµ„äº§ã€‚
      </p>
    </div>

    <!-- é“¾æ¥åŒº -->
    <div class="card">
      <h2>ğŸ”— ç¤¾åŒºé“¾æ¥</h2>
      <p>
        <a class="btn" href="#">Twitter</a>
        <a class="btn" href="#">Telegram</a>
        <a class="btn" href="https://dexscreener.com/bsc/0x903f9799e09ae894f0f5879e47e925f34bdf7777" target="_blank" rel="noopener noreferrer">Dexscreener</a>
      </p>
    </div>

    <!-- åŒ¿åè¯„è®ºåŒºåŸŸï¼ˆæš‚æ—¶å…³é—­ï¼Œåç»­å¯é‡æ–°å¯ç”¨ï¼‰
    <div class="card" id="comments">
      <h2>ğŸ’¬ åŒ¿åè¯„è®º / Anonymous Feedback</h2>
      <p>å¯ä»¥éšæ„å¡«å†™ç”¨æˆ·åå’Œå¤´åƒé“¾æ¥ï¼Œç•™è¨€ä½ å¯¹ TianXuan çš„æœŸå¾…åŠŸèƒ½æˆ–ä»»ä½•è¯„è®ºï¼ˆä»…ä¿å­˜åœ¨ä½ å½“å‰æµè§ˆå™¨ï¼‰ã€‚</p>
      <form class="comment-form" onsubmit="addComment(event)">
        <div class="comment-row">
          <input id="commentName" type="text" placeholder="ç”¨æˆ·åï¼ˆå¯åŒ¿åï¼Œä¾‹å¦‚ï¼šå¤©é€‰æŒæœ‰è€…ï¼‰" />
          <input id="commentAvatar" type="text" placeholder="å¤´åƒå›¾ç‰‡é“¾æ¥ï¼ˆå¯é€‰ï¼‰" />
        </div>
          <textarea id="commentText" placeholder="å†™ä¸‹ä½ æœŸå¾…çš„ç½‘ç«™åŠŸèƒ½ã€äº§å“æƒ³æ³•æˆ–ä»»ä½•è¯„è®º..."></textarea>
          <button class="btn" type="submit">æäº¤è¯„è®º</button>
        </form>
      <div class="comment-list" id="commentList"></div>
    </div>
    -->

  </div>

  <footer>
    Â© 2026 TianXuan Meme
  </footer>
</div>

<script>
  const CONTRACT = "0x903f9799e09ae894f0f5879e47e925f34bdf7777";
  const PAIR_API = "https://api.dexscreener.com/latest/dex/tokens/" + CONTRACT;
  const COMMENTS_KEY = "tx_comments";

  // ç®€å•çš„ä¸­è‹±æ–‡æ–‡æ¡ˆ
  const texts = {
    zh: {
      badge: 'SITE UNDER RENOVATION',
      title: 'æ­£åœ¨è£…ä¿®ä¸­',
      subtitle: 'TianXuan å®˜ç½‘æ­£åœ¨å‡çº§ä¸­ï¼Œæ•¬è¯·æœŸå¾…å…¨æ–°ç‰ˆæœ¬ä¸Šçº¿ã€‚',
      footer: 'TianXuan Â· å¤©é€‰ Â· Meme Project',
    },
    en: {
      badge: 'SITE UNDER RENOVATION',
      title: 'UNDER CONSTRUCTION',
      subtitle: 'The TianXuan official website is being upgraded. Stay tuned for the new version.',
      footer: 'TianXuan Â· Meme Project',
    },
  };

  function setLang(lang) {
    const t = texts[lang] || texts.zh;
    document.getElementById('maintBadge').innerText = t.badge;
    document.getElementById('maintTitle').innerText = t.title;
    document.getElementById('maintSubtitle').innerText = t.subtitle;
    document.getElementById('maintFooter').innerText = t.footer;

    // æŒ‰é’®é«˜äº®
    document.getElementById('btn-zh').classList.toggle('active', lang === 'zh');
    document.getElementById('btn-en').classList.toggle('active', lang === 'en');
  }

  document.getElementById('ca').innerText = CONTRACT;

  function copyCA() {
    navigator.clipboard.writeText(CONTRACT);
    alert("å·²å¤åˆ¶ CA");
  }

  async function loadPrice() {
    try {
      const res = await fetch(PAIR_API);
      const data = await res.json();
      const pair = data.pairs?.[0];
      if (!pair) return;

      document.getElementById('price').innerText = `ä»·æ ¼: $${pair.priceUsd}`;
      document.getElementById('change').innerText = `24h å˜åŒ–: ${pair.priceChange.h24}%`;
    } catch (e) {
      document.getElementById('price').innerText = "è·å–å¤±è´¥";
    }
  }

  loadPrice();
  setInterval(loadPrice, 10000);

  // åŒ¿åè¯„è®ºï¼šæœ¬åœ°å­˜å‚¨åœ¨æµè§ˆå™¨ localStorageï¼Œä¸­è‹±æ–‡ç”¨æˆ·éƒ½å¯ä½¿ç”¨
  function loadComments() {
    try {
      const raw = localStorage.getItem(COMMENTS_KEY);
      return raw ? JSON.parse(raw) : [];
    } catch (e) {
      return [];
    }
  }

  function saveComments(list) {
    localStorage.setItem(COMMENTS_KEY, JSON.stringify(list));
  }

  function renderComments() {
    const list = loadComments();
    const container = document.getElementById('commentList');
    if (!container) return;
    if (!list.length) {
      container.innerHTML = '<div style="font-size:13px;opacity:0.7;">è¿˜æ²¡æœ‰è¯„è®ºï¼Œåšç¬¬ä¸€ä¸ªç•™è¨€çš„äººå§ï½</div>';
      return;
    }
    container.innerHTML = list.map(item => {
      const safeName = item.name || 'åŒ¿åç”¨æˆ·';
      const safeText = (item.text || '').replace(/</g, '&lt;').replace(/>/g, '&gt;');
      const timeText = item.time || '';
      const avatar = item.avatar || 'https://avatars.githubusercontent.com/u/0?v=4';
      return `
        <div class="comment-item">
          <img class="comment-avatar" src="${avatar}" alt="avatar" onerror="this.style.visibility='hidden';" />
          <div>
            <div class="comment-meta">
              <span class="comment-name">${safeName}</span>
              <span>${timeText}</span>
            </div>
            <div>${safeText}</div>
          </div>
        </div>
      `;
    }).join('');
  }

  function addComment(event) {
    event.preventDefault();
    const nameInput = document.getElementById('commentName');
    const avatarInput = document.getElementById('commentAvatar');
    const textInput = document.getElementById('commentText');
    if (!textInput || !textInput.value.trim()) {
      alert('è¯·å…ˆè¾“å…¥è¯„è®ºå†…å®¹');
      return;
    }
    const list = loadComments();
    list.unshift({
      name: nameInput.value.trim() || 'åŒ¿åç”¨æˆ·',
      avatar: avatarInput.value.trim(),
      text: textInput.value.trim(),
      time: new Date().toLocaleString('zh-CN'),
    });
    // åªä¿ç•™æœ€è¿‘ 50 æ¡
    if (list.length > 50) list.length = 50;
    saveComments(list);
    nameInput.value = '';
    avatarInput.value = '';
    textInput.value = '';
    renderComments();
  }

  // åˆå§‹æ¸²æŸ“è¯„è®ºåˆ—è¡¨
  renderComments();
</script>

</body>
</html>